<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SushiDom</title>
  <link rel="icon" type="image/png" href="./image.png">
  <link rel="stylesheet" href="style.css" />
  <!-- DM Serif Display + Outfit -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Outfit:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet" />
</head>

<body>
  <!-- HEADER -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <!-- Logo -->
        <a class="logo" href="#">
          <img src="./image.png" class="logoo" alt="SushiDom" />
          <span class="logo-name">SushiDom</span>
        </a>

        <!-- Nav -->
        <nav class="nav" id="mainNav">
          <a href="#menu" data-i18n="nav-menu">–ú–µ–Ω—é</a>
          <a href="#contact" data-i18n="nav-contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>

        <!-- Controls -->
        <div class="header-controls">
          <button class="lang-toggle" id="langToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —è–∑—ã–∫">RU</button>
          <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
            <span class="theme-icon">
              <img src="./icons/moon-stars.svg" alt="—Ç–µ–º–∞" style="width:18px;height:18px" />
            </span>
          </button>
          <button class="cart-icon-btn" id="cartIconBtn" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
              <line x1="3" y1="6" x2="21" y2="6" />
              <path d="M16 10a4 4 0 0 1-8 0" />
            </svg>
            <span class="cart-badge" id="cartBadge">0</span>
            <span class="cart-text" data-i18n="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section id="about" class="about-section">
      <div class="container">
        <div class="welcome-container">
          <div class="welcome-badge" data-i18n="welcome-badge">üç£ –ö–∞—Ä–∞-–ö—É–ª—å ¬∑ –°–≤–µ–∂–∏–µ —Ä–æ–ª–ª—ã</div>
          <h1 id="animatedWelcome" class="welcome-title" data-i18n="welcome-title">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <em>SushiDom</em>
          </h1>
          <p class="welcome-subtitle" data-i18n="welcome-subtitle">–°–≤–µ–∂–∏–µ —Ä–æ–ª–ª—ã, —Å–µ—Ç—ã –∏ –Ω–∞–ø–∏—Ç–∫–∏ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –∏
            —Å–∞–º–æ–≤—ã–≤–æ–∑–æ–º. –ó–∞–∫–∞–∂–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.</p>
          <div class="welcome-cta">
            <button class="btn btn-primary" id="viewMenuBtn" data-i18n="view-menu">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é</button>
            <button class="btn btn-secondary" id="viewContactsBtn" data-i18n="nav-contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</button>
          </div>
        </div>
      </div>
    </section>
    <section id="menu" class="menu-section">
      <div class="container">
        <h2 data-i18n="menu-title">–ë–∏–∑–¥–∏–Ω <span>–∞—à —Ç–∏–∑–º–µ–∫</span></h2>
        <!-- Category filter -->
        <div class="category-filter">
          <button class="filter-btn active" data-category="all" data-i18n="filter-all">–í—Å–µ</button>
          <button class="filter-btn" data-category="sushi_rolls" data-i18n="filter-sushi-rolls">–°—É—à–∏ –∏ –†–æ–ª–ª—ã</button>
          <button class="filter-btn" data-category="fastfood" data-i18n="filter-fastfood">–§–∞—Å—Ç—Ñ—É–¥</button>
          <button class="filter-btn" data-category="bubble_tea" data-i18n="filter-bubble-tea">–ë–∞–±–ª –¢–∏</button>
          <button class="filter-btn" data-category="drinks" data-i18n="filter-drinks">–ù–∞–ø–∏—Ç–∫–∏</button>
        </div>
      </div>

      <!-- Menu grid ‚Äî NO slider, always grid -->
      <div class="menu-grid" id="menuGrid">
        <!-- Cards injected by JS -->
      </div>
    </section>

    <!-- CONTACTS -->
    <section id="contact" class="contact-section">
      <div class="container">
        <h2>–ù–∞—à–∏ <span>–ö–æ–Ω—Ç–∞–∫—Ç—ã</span></h2>
        <div class="contact-compact">
          <a class="contact-btn" href="tel:0507007031">
            <img src="./icons/phone-call.svg" alt="phone" />
            0507 007 031
          </a>
          <a class="contact-btn" href="https://2gis.kg/kara-kul/firm/70000001091199018" target="_blank">
            <img src="./icons/land-layer-location.svg" alt="location" />
            —É–ª. –õ–µ–Ω–∏–Ω–∞ 24, –ö–∞—Ä–∞-–ö—É–ª—å
          </a>
          <div class="contact-hours">
            <img src="./icons/clock-three.svg" alt="hours" />
            10:00 ‚Äì 22:00 ¬∑ –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö
          </div>
        </div>
        <div class="compact-map">
          <div id="map"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <p data-i18n="footer-text">&copy; 2025 SushiDom. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <!-- ==================== MODALS ==================== -->

  <!-- Cart modal -->
  <div class="modal-overlay" id="cartModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-i18n="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</h2>
        <button class="modal-close" id="closeCartModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="modal-body">
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-empty" id="cartEmpty">
          <p data-i18n="cart-empty">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
        </div>
        <div class="cart-total" id="cartTotal">
          <strong data-i18n="cart-total">–ò—Ç–æ–≥–æ:</strong>
          <span id="totalPrice">0</span>
          <span data-i18n="currency">—Å–æ–º</span>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="clearCart" data-i18n="cart-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button class="btn btn-primary" id="checkoutBtn" data-i18n="cart-checkout">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
      </div>
    </div>
  </div>

  <!-- Order form modal -->
  <div class="modal-overlay" id="orderModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-i18n="order-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
        <button class="modal-close" id="closeOrderModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="modal-body">
        <form id="orderForm" class="order-form">
          <div class="form-group">
            <label for="customerName" data-i18n="order-name">–ò–º—è</label>
            <input type="text" id="customerName" name="name" required placeholder="–í–∞—à–µ –∏–º—è" />
          </div>
          <div class="form-group">
            <label for="customerPhone" data-i18n="order-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <div class="phone-input-wrapper">
              <span class="phone-prefix">+996</span>
              <input type="tel" id="customerPhone" name="phone" placeholder="700 123 456" maxlength="12" required />
            </div>
            <small class="phone-hint" data-i18n="order-phone-hint">–ë–µ–∑ –Ω—É–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: 700 123 456</small>
          </div>
          <div class="form-group delivery-address-group" id="deliveryAddressGroup" style="display:none">
            <label for="deliveryAddress" data-i18n="order-address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            <input type="text" id="deliveryAddress" name="address" placeholder="—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥–æ–º 5" />
          </div>
          <div class="form-group">
            <label for="orderComment" data-i18n="order-comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <textarea id="orderComment" name="comment" rows="3" placeholder="–ü–æ–∂–µ–ª–∞–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É‚Ä¶"></textarea>
          </div>
          <div class="form-group">
            <label data-i18n="order-summary">–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</label>
            <div id="orderSummary" class="order-summary"></div>
          </div>
          <div class="form-group">
            <label data-i18n="payment-method-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
            <div class="payment-options">
              <label class="payment-option">
                <input type="radio" name="paymentMethod" value="cash" />
                <span class="payment-icon"><img src="./icons/money-bills-simple.svg" alt="cash" /></span>
                <span class="payment-label" data-i18n="payment-cash">–ù–∞–ª–∏—á–Ω—ã–º–∏</span>
              </label>
              <label class="payment-option">
                <input type="radio" name="paymentMethod" value="card" />
                <span class="payment-icon"><img src="./icons/credit-card.svg" alt="card" /></span>
                <span class="payment-label" data-i18n="payment-card">–ö–∞—Ä—Ç–æ–π</span>
              </label>
              <label class="payment-option">
                <input type="radio" name="paymentMethod" value="mbank" />
                <img class="payment-icon"
                  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSaA9lxNhWl5EMtyoEB1WtKzSdhhKHAo4J3g&s"
                  alt="MBank" style="width:22px;height:22px;border-radius:4px" />
                <span class="payment-label" data-i18n="payment-mbank">MBank</span>
              </label>
            </div>
            <div id="mbankQrContainer" style="display:none;margin-top:14px;text-align:center">
              <img id="mbankQrImage" src="./qr/photo_5366081055741381388_x.svg" alt="MBank QR"
                style="max-width:200px;width:60%;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12)" />
              <div style="font-size:0.85rem;color:var(--text-muted);margin-top:8px">–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –¥–ª—è –æ–ø–ª–∞—Ç—ã</div>
            </div>
          </div>
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="cancelOrder" data-i18n="order-cancel">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" id="submitOrderBtn" class="btn btn-primary" data-i18n="order-submit" disabled>
              –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Dish details modal -->
  <div class="modal-overlay" id="dishDetailsModal">
    <div class="modal-content dish-details-modal">
      <div class="modal-header">
        <h2 id="dishDetailsTitle">–î–µ—Ç–∞–ª–∏ –±–ª—é–¥–∞</h2>
        <button class="modal-close" id="closeDishDetailsModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="modal-body">
        <div class="dish-slider-container">
          <div class="dish-slider" id="dishSlider"></div>
          <button class="slider-btn slider-btn-prev" id="sliderPrev">‚Äπ</button>
          <button class="slider-btn slider-btn-next" id="sliderNext">‚Ä∫</button>
          <div class="slider-dots" id="sliderDots"></div>
        </div>
        <div class="dish-details-info">
          <h3 id="dishDetailsName"></h3>
          <p class="dish-details-description" id="dishDetailsDescription"></p>
          <div class="dish-details-price" id="dishDetailsPrice"></div>
          <div class="dish-ingredients">
            <h4 data-i18n="dish-ingredients">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</h4>
            <ul id="dishIngredientsList"></ul>
          </div>
          <div class="dish-details-actions">
            <button type="button" class="btn btn-primary" id="addToCartFromDetails" data-i18n="add-to-cart">–í
              –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="image-lightbox" id="imageLightbox">
    <div class="lightbox-content">
      <button class="lightbox-close" id="closeLightbox">√ó</button>
      <img src="" alt="" id="lightboxImage" />
    </div>
  </div>

  <!-- Order type modal -->
  <div class="modal-overlay" id="orderTypeModal">
    <div class="modal-content order-type-modal">
      <div class="modal-header">
        <h2 data-i18n="order-type-title">–ö–∞–∫ —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å?</h2>
      </div>
      <div class="modal-body">
        <div class="order-type-buttons">
          <button class="order-type-btn" id="orderTypePickup" data-type="pickup">
            <span class="order-type-icon"><img src="./icons/truck-pickup.svg" alt="pickup" /></span>
            <span class="order-type-label" data-i18n="order-type-pickup">–°–∞–º–æ–≤—ã–≤–æ–∑</span>
          </button>
          <button class="order-type-btn" id="orderTypeDelivery" data-type="delivery">
            <span class="order-type-icon"><img src="./icons/shipping-fast.svg" alt="delivery" /></span>
            <span class="order-type-label" data-i18n="order-type-delivery">–î–æ—Å—Ç–∞–≤–∫–∞</span>
          </button>
          <button class="order-type-btn order-type-browse" id="orderTypeBrowse" data-type="browse">
            <span class="order-type-icon"><img src="./icons/eyes.svg" alt="browse" /></span>
            <span class="order-type-label" data-i18n="order-type-browse">–ü—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é</span>
          </button>
        </div>
        <div class="lang-selector-modal">
          <button class="lang-btn-modal" id="langBtnRu" data-lang="ru">RU</button>
          <button class="lang-btn-modal" id="langBtnKg" data-lang="kg">KG</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Variant selection modal -->
  <div class="modal-overlay" id="variantModal">
    <div class="modal-content variant-modal">
      <div class="modal-header">
        <h2 id="variantTitle">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</h2>
        <button class="modal-close" id="closeVariantModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="modal-body">
        <div id="variantOptions"></div>
      </div>
    </div>
  </div>

  <!-- Delivery form modal -->
  <div class="modal-overlay" id="deliveryFormModal">
    <div class="modal-content delivery-form-modal">
      <div class="modal-header">
        <h2 data-i18n="delivery-form-title">–î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
        <button class="modal-close" id="closeDeliveryModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="modal-body">
        <form id="deliveryInfoForm" class="delivery-info-form">
          <div class="form-group">
            <label for="deliveryName" data-i18n="order-name">–í–∞—à–µ –∏–º—è</label>
            <input type="text" id="deliveryName" name="name" required placeholder="–í–∞—à–µ –∏–º—è" />
          </div>
          <div class="form-group">
            <label for="deliveryPhone" data-i18n="order-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <div class="phone-input-wrapper">
              <span class="phone-prefix">+996</span>
              <input type="tel" id="deliveryPhone" name="phone" placeholder="700 123 456" maxlength="12" required />
            </div>
          </div>
          <div class="form-group">
            <label for="deliveryAddressInput" data-i18n="order-address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            <input type="text" id="deliveryAddressInput" name="address" placeholder="—É–ª. –ë–æ–∫–æ–Ω–±–∞–µ–≤–∞, –¥–æ–º 5" required />
          </div>
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="backToOrderType" data-i18n="back">–ù–∞–∑–∞–¥</button>
            <button type="submit" class="btn btn-primary" data-i18n="continue">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Bottom mobile nav -->
  <nav class="bottom-nav" id="bottomNav">
    <button class="bottom-nav-btn" id="bottomNavMenu" data-section="menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="12" x2="21" y2="12" />
        <line x1="3" y1="6" x2="21" y2="6" />
        <line x1="3" y1="18" x2="21" y2="18" />
      </svg>
      <span data-i18n="nav-menu">–ú–µ–Ω—é</span>
    </button>
    <button class="bottom-nav-btn" id="bottomNavCart" data-section="cart">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
        <line x1="3" y1="6" x2="21" y2="6" />
        <path d="M16 10a4 4 0 0 1-8 0" />
      </svg>
      <span data-i18n="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</span>
      <span class="bottom-nav-badge" id="bottomNavBadge">0</span>
    </button>
  </nav>

  <!-- 2GIS map loader and init -->
  <script src="https://maps.api.2gis.ru/2.0/loader.js?pkg=full"></script>
  <script>
    DG.then(function () {
      const map = DG.map('map', {
        center: [41.634671, 72.664919],
        zoom: 16
      });

      DG.marker([41.634671, 72.664919])
        .addTo(map)
        .bindPopup('SushiDom ‚Äî –º—ã –∑–¥–µ—Å—å!');
    });
  </script>

  <script src="script.js"></script>
</body>

</html>